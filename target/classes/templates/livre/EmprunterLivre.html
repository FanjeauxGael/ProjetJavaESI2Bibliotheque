<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>List Users</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container text-center">
    <div>
        <form th:action="@{/logout}" method="post">
            <p>
                Bienvenue <b>[[${#request.userPrincipal.principal.fullName}]]</b>
            </p>
            <input class="btn btn-primary" type="submit" value="Deconnexion" />
        </form>
    </div>
    <div>
        <h1>Livre a emprunter</h1>
    </div>
    <div>
        <button class="btn btn-primary mb-1" onclick="history.back()">page precedente</button>
    </div>
    <div>
        <div>
            <label class="col-4 col-form-label" for="id">Id</label>
            <input class="form-control" id="id" type="text" disabled th:value="${livre.getId()}"></input>
        </div>
        <div>
            <label class="col-4 col-form-label" for="Titre">Titre</label>
            <input class="form-control" id="Titre" type="text" disabled th:value="${livre.getTitre()}"></input>
        </div>
        <div>
            <label class="col-4 col-form-label" for="Auteur">Auteur</label>
            <input class="form-control" id="Auteur" type="text" disabled th:value="${livre.getAuteur()}"></input>
        </div>
        <div>
            <label class="col-4 col-form-label" for="Description">Description</label>
            <input class="form-control" id="Description" type="text" disabled th:value="${livre.getDescription()}"></input>
        </div>
        <div>
            <label class="col-4 col-form-label" for="Date de parution">Date de parution</label>
            <input class="form-control" id="Date de parution" type="text" disabled th:value="${livre.getDateParution()}"></input>
        </div>
        <div>
            <label class="col-4 col-form-label" for="Etat">Etat</label>
            <input class="form-control" id="Etat" type="text" disabled th:value="${livre.getEtat()}"></input>
        </div>
        <div>
            <label class="col-4 col-form-label" for="Nb pages">Nb pages</label>
            <input class="form-control" id="Nb pages" type="text" disabled th:value="${livre.getNbPages()}"></input>
        </div>
    </div>
    <Form th:action="@{/livres/Livre/Emprunter/{id}/Add(id=${livre.getId()})}" th:object="${emprunt}" method="post" style="max-width: 600px; margin: 0 auto;">
        <div class="m-3">
            <div class="form-group row">
                <label class="col-4 col-form-label">Date d'emprunt: </label>
                <div class="col-8">
                    <input type="date" th:field="*{dateEmprunt}" class="form-control" required />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-4 col-form-label">Duree: </label>
                <div class="col-8">
                    <input type="number" th:field="*{nbJours}" class="form-control" required /> (jours)
                </div>
            </div>
            <input type="hidden" id="idLivre" name="idLivre" th:value="${livre.getId()}" class="form-control" required />
            <input type="hidden" id="idUser" name="idUser" th:value="${user.getId()}" class="form-control" required />
            <div>
                <button type="submit" class="btn btn-primary">Emprunter</button>
            </div>
        </div>
    </Form>
</div>
</body>
</html>